인덱스

인덱스는 DB의 성능 최적화 기법 중 하나이다. 제대로 사용하기 위해서는 소프트웨어에 대한 이해 및 사용자에 대한 분석이 필요하다.
가장 대표적인 예시로는 사용자의 행동 패턴을 기반으로 가장 많이 쓰이는 API가 어떤 데이터를 어떤 방식으로 조회하는 지에 대한 것들이다.

가령 예를들어 온라인 북마켓이라는 도메인의 소프트웨어가 있고
사용자가 가장 많이 이용하는 API는 연간 판매량을 기준으로 높은 순에서 아래로 내려가는 기능을 주로 사용한다고 생각해보자.

```sql
CREATE INDEX idx_연간판매량 ON 책장 (연간판매량 DESC);
```

그리고 호출할 때는 보통

```sql
SELECT 책_id, 제목, 저자, 연간판매량
FROM 책장
ORDER BY 연간판매량 DESC
LIMIT 100;
```

이런 식으로 호출할 것이다. 인덱스는 미리 색인해놓은 값들을 토대로 데이터를 조회할 것이기에 기존의 SELECT보다 더 빠른 성능을 가질 수 있다.
하지만 연간 판매량이라는 데이터는 쉽게 변화하는 값이다. 특정 데이터의 연간 판매량이라는 데이터가 변할때마다 이 색인들도 다시 업데이트가 되어야 하기에
고민해봐야할 문제이긴 하다. 연간 판매량이 올해를 기준으로 하는 것이 아닌 2023년 같이 변화하지 않을 데이터를 대상으로 한다면 인덱스를 사용함으로써
성능을 크게 늘릴 수도 있지 않을까?
